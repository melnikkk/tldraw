"use strict";(()=>{var e={};e.id=734,e.ids=[734],e.modules={3418:e=>{e.exports=require("@octokit/plugin-retry")},1959:e=>{e.exports=require("json5")},8622:e=>{e.exports=require("lodash.throttle")},5494:e=>{e.exports=require("lodash.uniq")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},4287:e=>{e.exports=require("octokit")},1122:e=>{e.exports=import("fractional-indexing-jittered")},2081:e=>{e.exports=require("child_process")},6206:e=>{e.exports=require("console")},3292:e=>{e.exports=require("fs/promises")},2037:e=>{e.exports=require("os")},1017:e=>{e.exports=require("path")},6850:(e,t,i)=>{i.a(e,async(e,a)=>{try{i.r(t),i.d(t,{config:()=>d,default:()=>u,routeModule:()=>p});var r=i(9150),o=i(1631),n=i(6835),s=i(3829),l=e([s]);s=(l.then?(await l)():l)[0];let u=(0,n.l)(s,"default"),d=(0,n.l)(s,"config"),p=new r.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/github-event",pathname:"/api/github-event",bundlePath:"",filename:""},userland:s});a()}catch(e){a(e)}})},3829:(e,t,i)=>{i.a(e,async(e,a)=>{try{i.r(t),i.d(t,{default:()=>d});var r=i(7181),o=i(5281),n=i(5250),s=i(3096),l=i(9398),u=e([r,o,n]);[r,o,n]=u.then?(await u)():u;let d=(0,s.N)("/api/github-event",async function(e,t){let i=(0,n.xA)(),a=(0,l.Fs)(e,"x-github-event");await i.webhooks.verifyAndReceive({id:(0,l.Fs)(e,"x-github-delivery"),name:a,signature:(0,l.Fs)(e,"x-hub-signature-256"),payload:JSON.stringify(e.body)});let s={name:a,payload:e.body};(0,r.hu)("installation"in s.payload&&s.payload.installation,"event must have installation");let u=s.payload.installation.id,d={app:i,octokit:await i.getInstallationOctokit(Number(u)),installationId:u,installationToken:await (0,n.Gc)(i,u)};return(0,o.q)(d,s),t.json({ok:!0})});a()}catch(e){a(e)}})},3096:(e,t,i)=>{i.d(t,{N:()=>r});var a=i(9038);function r(e,t){return async(i,r)=>{try{await t(i,r)}catch(t){(0,a.e)(`Error in ${e}`,t),r.status(500).json({error:t.message})}}}}};var t=require("../../webpack-api-runtime.js");t.C(e);var i=e=>t(t.s=e),a=t.X(0,[516,281],()=>i(6850));module.exports=a})();